---
import { SITE_DESCRIPTION } from "../../../consts";
import { getWebPageStructuredData } from "../../../utils/structuredData";
import heroImg from '../../../assets/homeImgs/heroImg.jpeg';
import ColSectionWrapper from "../../commons/ColSectionWrapper.astro";

const IMG_ALT = "Foto di Anna, autrice del blog.";
const siteUrl = Astro.site?.toString() ?? 'http://localhost:4321';
const structuredData = {
    "description": SITE_DESCRIPTION,
    "canonicalURL": new URL(Astro.url.pathname, Astro.site).toString(),
    "contentUrl": new URL('/assets/heroImgs/heroImg.jpeg', siteUrl).toString(),
    "imageDescription": IMG_ALT,
};

// Genera JSON-LD come stringa
const JSONstructuredData = getWebPageStructuredData(structuredData);
---

<ColSectionWrapper idSection="hero" idLeftCol="hero-col-left" idRightCol="hero-col-right">
    <Fragment slot="left">
        <h1 class="leading-tight uppercase m-0">
            Hello, Crazy! ðŸ¤ª
            Benvenuti su <strong class="gradient-text">commenti.non.richiesti</strong>
        </h1>
        <p class="max-w-full uppercase mb-0! m-0!">
            Sono A n n a, 
            <br class="hidden md:flex">
            quella che commenta anche quando non serve ðŸ˜œ
            <br>
            Sono una fotografa e ricercatrice di esperienze uniche e divertenti.
            <br>
        </p>
        <p class="max-w-full uppercase m-0!">
            La mia missione?
            <br>
            Aiutare le persone curiose a vivere <em>esperienze insolite</em> attraverso <em>guide autentiche</em>, <em>fotografie uniche</em> e <em>recensioni ironiche</em>.
        </p>
        <div class="flex justify-center lg:justify-start">
            <a href="/about" aria-label="Vai alla pagina Chi Sono" class="btn-funky">
                <span class="btn-funky-content">
                    Conoscimi meglio
                </span>
            </a>
        </div>
    </Fragment>

    <Fragment slot="right">
        <div class="relative inline-block">
            <!-- Ombra rettangolare animata -->
            <div id="img-before" class="absolute top-4 left-4 w-full h-full bg-[#4C206D]/30 animate-pulse transition-all duration-500 ease-in-out z-0 rounded-t-[50%]">
            </div>

            <!-- Immagine vera sopra -->
            <img id="hero-img" src={heroImg.src} alt={IMG_ALT} class="w-full max-w-md shadow-xl/30 object-cover relative z-10 rounded-t-[50%]" loading="lazy" />
        </div>
    </Fragment>
</ColSectionWrapper>

<script type="application/ld+json" set:html={JSONstructuredData}/>